{"version":3,"sources":["webpack:///./src/pages/automation/install-bas/index.mdx","webpack:///./node_modules/gatsby-theme-carbon/src/components/PageHeader/index.js","webpack:///./node_modules/gatsby-theme-carbon/src/components/PageHeader/PageHeader.js","webpack:///./node_modules/gatsby-theme-carbon/src/components/EditLink/index.js","webpack:///./node_modules/gatsby-theme-carbon/src/components/EditLink/EditLink.js","webpack:///./node_modules/gatsby-theme-carbon/src/components/PageTabs/index.js","webpack:///./node_modules/gatsby-theme-carbon/src/components/PageTabs/PageTabs.js","webpack:///./node_modules/gatsby-theme-carbon/src/templates/Default.js","webpack:///./node_modules/gatsby-theme-carbon/src/components/EditLink/EditLink.module.scss","webpack:///./node_modules/gatsby-theme-carbon/src/components/PageTabs/PageTabs.module.scss","webpack:///./node_modules/gatsby-theme-carbon/src/components/PageHeader/PageHeader.module.scss"],"names":["_frontmatter","layoutProps","MDXLayout","DefaultLayout","MDXContent","components","props","mdxType","parentName","isMDXComponent","PageHeader","title","tabs","className","cx","pageHeader","withTabs","length","id","text","EditLink","relativePagePath","repositoryProp","repository","useStaticQuery","site","siteMetadata","baseUrl","subDirectory","href","branch","row","link","PageTabs","render","this","slug","currentTab","split","filter","Boolean","slice","pageTabs","map","tab","slugifiedTab","slugify","lower","strict","selected","currentTabRegex","RegExp","replace","key","selectedItem","listItem","to","tabsContainer","list","React","Component","Default","pageContext","children","location","Title","frontmatter","titleType","theme","description","keywords","pathPrefix","pathname","Layout","homepage","pageTitle","pageDescription","pageKeywords","label","Main","padded","NextPrevious","Utils","module","exports"],"mappings":"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","file":"component---src-pages-automation-install-bas-index-mdx-9b680af26ace0ff0e892.js","sourcesContent":["import * as React from 'react'\n  /* @jsx mdx */\nimport { mdx } from '@mdx-js/react';\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\n\nimport DefaultLayout from \"/home/travis/build/ibm-cloud-architecture/cloudpak8s/node_modules/gatsby-theme-carbon/src/templates/Default.js\";\nexport const _frontmatter = {};\nconst layoutProps = {\n  _frontmatter\n};\nconst MDXLayout = DefaultLayout;\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n\n    <h3>{`Create the Playback Engine database`}</h3>\n    <pre><code parentName=\"pre\" {...{}}>{`su - db2inst1\ndb2 create database aaedb automatic storage yes using codeset UTF-8 territory US pagesize 32768\ndb2 connect to aaedb\n\n## The following grant is used for databases without enhanced security.\n## aaedbuser is the username that App Engine uses to connect to the database\ndb2 grant dbadm on database to user aaedbuser\n\ndb2 connect reset\nexit\n`}</code></pre>\n    <h3>{`Create the BAS database`}</h3>\n    <pre><code parentName=\"pre\" {...{}}>{`su - db2inst1\ndb2 create database basdb automatic storage yes using codeset UTF-8 territory US pagesize 32768\ndb2 connect to basdb\n\n## A user temporary tablespace is required to support stored procedures in BPM.\n$ db2 CREATE USER TEMPORARY TABLESPACE USRTMPSPC1\n$ db2 UPDATE DB CFG FOR basdb USING LOGFILSIZ 16384 DEFERRED\n$ db2 UPDATE DB CFG FOR basdb USING LOGSECOND 64 IMMEDIATE\n$ db2 grant dbadm on database to user basuser\n$ db2 connect reset\n$ exit\n`}</code></pre>\n    <h3>{`Create the BAS secrets`}</h3>\n    <ul>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`Copy this `}<a parentName=\"p\" {...{\n            \"href\": \"/assets/automation/bas/rr-secret.yaml\"\n          }}><inlineCode parentName=\"a\">{`rr-secret.yaml`}</inlineCode></a>{` template file in your working directory and update it as needed.`}</p>\n      </li>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`Copy this `}<a parentName=\"p\" {...{\n            \"href\": \"/assets/automation/bas/playback-ae-server.yaml\"\n          }}><inlineCode parentName=\"a\">{`playback-ae-server.yaml`}</inlineCode></a>{` template file in your working directory and update it as needed.`}</p>\n      </li>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`Copy this `}<a parentName=\"p\" {...{\n            \"href\": \"/assets/automation/bas/bas-secret.yaml\"\n          }}><inlineCode parentName=\"a\">{`bas-secret.yaml`}</inlineCode></a>{` template file in your working directory and update it as needed. Make sure that you use a different `}<inlineCode parentName=\"p\">{`oidcClientId`}</inlineCode>{` for Business Automation Studio from the one you use for the App Engine playback server. There is only one UMS server and it needs to know which component to connect to.`}</p>\n      </li>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`Create the secrets:`}</p>\n      </li>\n    </ul>\n    <pre><code parentName=\"pre\" {...{}}>{`oc create -f rr-secret.yaml\noc create -f playback-ae-server.yaml\noc create -f bas-secret.yaml\n`}</code></pre>\n    <h3>{`Deploy BAS`}</h3>\n    <ul>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`To update the operator configuration, copy this `}<a parentName=\"p\" {...{\n            \"href\": \"/assets/automation/bas/my_ibm_cp4a_cr_2.yaml\"\n          }}><inlineCode parentName=\"a\">{`my_ibm_cp4a_cr_2.yaml`}</inlineCode></a>{` template file in your working directory and update it as needed. You can highlight the BAS configuration sections that need your attention by doing a diff with the template file found in `}<a parentName=\"p\" {...{\n            \"href\": \"/assets/automation/ums/my_ibm_cp4a_cr_1.yaml\"\n          }}><inlineCode parentName=\"a\">{`my_ibm_cp4a_cr_1.yaml`}</inlineCode></a></p>\n      </li>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`Apply the updated custom resource definition file:`}</p>\n      </li>\n    </ul>\n    <pre><code parentName=\"pre\" {...{}}>{`oc apply -f my_ibm_icp4a_cr_2.yaml\n`}</code></pre>\n    <p>{`You should see the following new pods deployed:`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`NAME                                              READY   STATUS        RESTARTS   AGE\ncp4a-prod-bastudio-authoring-jms-0                1/1     Running       0          17h\ncp4a-prod-bastudio-bootstrap-cpwwq                0/1     Completed     0          17h\ncp4a-prod-bastudio-deployment-667477d695-97f4q    1/1     Running       0          17h\ncp4a-prod-bastudio-ltpa-drgp2                     0/1     Completed     0          17h\ncp4a-prod-bastudio-oidc-2f54b                     0/1     Completed     0          17h\ncp4a-prod-dba-rr-83f45a5d0c                       1/1     Running       0          87m\ncp4a-prod-dba-rr-b29d156915                       1/1     Running       0          87m\ncp4a-prod-dba-rr-ef1b17dabf                       1/1     Running       0          87m\ncp4a-prod-pbk-ae-db-job-vzct7                     0/1     Completed     0          17h\ncp4a-prod-pbk-ae-deployment-c8d5458fb-9zltp       1/1     Terminating   0          17h\ncp4a-prod-pbk-ae-deployment-c8d5458fb-m8cqq       1/1     Running       0          10h\ncp4a-prod-pbk-ae-oidc-job-wq8sg                   0/1     Completed     0          17h\ncp4a-prod-rr-setup-pod                            0/1     Completed     0          87m\n`}</code></pre>\n    <h3>{`Test that BAS is up`}</h3>\n    <p>{`Connect to `}<inlineCode parentName=\"p\">{`https://<bas-route>/BAStudio`}</inlineCode>{` with the administrator login you have defined in the `}<inlineCode parentName=\"p\">{`bas-secret.yaml`}</inlineCode>{` file. You should also be able to login with the credentials for any user defined in the LDAP directory.`}</p>\n    <p>{`The `}<inlineCode parentName=\"p\">{`<bas-route>`}</inlineCode>{` is the hostname that you have provided under the `}<inlineCode parentName=\"p\">{`bastudio_configuration`}</inlineCode>{` in the `}<inlineCode parentName=\"p\">{`my_ibm_cp4a_cr_2.yaml`}</inlineCode>{` configuration file.`}</p>\n\n    </MDXLayout>;\n}\n;\nMDXContent.isMDXComponent = true;\n      ","import PageHeader from './PageHeader';\n\nexport default PageHeader;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport cx from 'classnames';\nimport { pageHeader, withTabs, text } from './PageHeader.module.scss';\n\nconst PageHeader = ({ title, tabs = [] }) => (\n  <div className={cx(pageHeader, { [withTabs]: tabs.length })}>\n    <div className=\"bx--grid\">\n      <div className=\"bx--row\">\n        <div className=\"bx--col-lg-12\">\n          <h1 id=\"page-title\" className={text}>\n            {title}\n          </h1>\n        </div>\n      </div>\n    </div>\n  </div>\n);\n\nPageHeader.propTypes = {\n  /**\n   * Specify the title for the page\n   */\n  title: PropTypes.node,\n};\n\nexport default PageHeader;\n","import EditLink from './EditLink';\n\nexport default EditLink;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { graphql, useStaticQuery } from 'gatsby';\n\nimport { link, row } from './EditLink.module.scss';\n\nconst EditLink = ({ relativePagePath, repository: repositoryProp }) => {\n  const {\n    site: {\n      siteMetadata: { repository },\n    },\n  } = useStaticQuery(graphql`\n    query REPOSITORY_QUERY {\n      site {\n        siteMetadata {\n          repository {\n            baseUrl\n            subDirectory\n            branch\n          }\n        }\n      }\n    }\n  `);\n\n  const { baseUrl, subDirectory, branch } = repositoryProp || repository;\n\n  const href = `${baseUrl}/edit/${branch}${subDirectory}/src/pages${relativePagePath}`;\n\n  return baseUrl ? (\n    <div className={`bx--row ${row}`}>\n      <div className=\"bx--col\">\n        <a className={link} href={href}>\n          Edit this page on GitHub\n        </a>\n      </div>\n    </div>\n  ) : null;\n};\n\nEditLink.propTypes = {\n  repository: PropTypes.shape({\n    baseUrl: PropTypes.string,\n    subDirectory: PropTypes.string,\n    branch: PropTypes.string,\n  }),\n  relativePagePath: PropTypes.string,\n};\n\nexport default EditLink;\n","import PageTabs from './PageTabs';\n\nexport default PageTabs;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from 'gatsby';\nimport slugify from 'slugify';\nimport cx from 'classnames';\n\nimport {\n  tabsContainer,\n  list,\n  selectedItem,\n  listItem,\n  link,\n} from './PageTabs.module.scss';\n\nexport default class PageTabs extends React.Component {\n  render() {\n    const { tabs, slug } = this.props;\n    const currentTab = slug.split('/').filter(Boolean).slice(-1)[0];\n\n    const pageTabs = tabs.map((tab) => {\n      const slugifiedTab = slugify(tab, { lower: true, strict: true });\n      const selected = slugifiedTab === currentTab;\n      // matches with or without trailing slash: /?\n      // matches with or without hash link: (#.*)?\n      const currentTabRegex = new RegExp(`${currentTab}/?(#.*)?$`);\n      const href = slug.replace(currentTabRegex, slugifiedTab);\n      return (\n        <li key={tab} className={cx({ [selectedItem]: selected }, listItem)}>\n          <Link className={link} to={`${href}`}>\n            {tab}\n          </Link>\n        </li>\n      );\n    });\n\n    return (\n      <div className={tabsContainer}>\n        <div className=\"bx--grid\">\n          <div className=\"bx--row\">\n            <div className=\"bx--col-lg-12 bx--col-no-gutter\">\n              <nav>\n                <ul className={list}>{pageTabs}</ul>\n              </nav>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nPageTabs.propTypes = {\n  tabs: PropTypes.array,\n  slug: PropTypes.string,\n};\n","import React from 'react';\nimport slugify from 'slugify';\nimport { useStaticQuery, graphql } from 'gatsby';\n\nimport Utils from '../components/Utils';\nimport Layout from '../components/Layout';\nimport PageHeader from '../components/PageHeader';\nimport EditLink from '../components/EditLink';\nimport NextPrevious from '../components/NextPrevious';\nimport PageTabs from '../components/PageTabs';\nimport Main from '../components/Main';\n\nconst Default = ({ pageContext, children, location, Title }) => {\n  const { frontmatter = {}, relativePagePath, titleType } = pageContext;\n  const { tabs, title, theme, description, keywords } = frontmatter;\n\n  // get the path prefix if it exists\n  const {\n    site: { pathPrefix },\n  } = useStaticQuery(graphql`\n    query PATH_PREFIX_QUERY {\n      site {\n        pathPrefix\n      }\n    }\n  `);\n\n  // let gatsby handle prefixing\n  const slug = pathPrefix\n    ? location.pathname.replace(pathPrefix, '')\n    : location.pathname;\n\n  const getCurrentTab = () => {\n    if (!tabs) return '';\n    return (\n      slug.split('/').filter(Boolean).slice(-1)[0] ||\n      slugify(tabs[0], { lower: true })\n    );\n  };\n\n  const currentTab = getCurrentTab();\n\n  return (\n    <Layout\n      tabs={tabs}\n      homepage={false}\n      theme={theme}\n      pageTitle={title}\n      pageDescription={description}\n      pageKeywords={keywords}\n      titleType={titleType}>\n      <PageHeader title={Title ? <Title /> : title} label=\"label\" tabs={tabs} />\n      {tabs && <PageTabs slug={slug} tabs={tabs} currentTab={currentTab} />}\n      <Main padded>\n        {children}\n        <EditLink relativePagePath={relativePagePath} />\n      </Main>\n      <NextPrevious\n        pageContext={pageContext}\n        location={location}\n        slug={slug}\n        tabs={tabs}\n        currentTab={currentTab}\n      />\n      <Utils />\n    </Layout>\n  );\n};\n\nexport default Default;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"bxTextTruncateEnd\":\"EditLink-module--bx--text-truncate--end--2pqje\",\"bxTextTruncateFront\":\"EditLink-module--bx--text-truncate--front--3_lIE\",\"link\":\"EditLink-module--link--1qzW3\",\"row\":\"EditLink-module--row--1B9Gk\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"bxTextTruncateEnd\":\"PageTabs-module--bx--text-truncate--end--267NA\",\"bxTextTruncateFront\":\"PageTabs-module--bx--text-truncate--front--3xEQF\",\"tabsContainer\":\"PageTabs-module--tabs-container--8N4k0\",\"list\":\"PageTabs-module--list--3eFQc\",\"listItem\":\"PageTabs-module--list-item--nUmtD\",\"link\":\"PageTabs-module--link--1mDJ1\",\"selectedItem\":\"PageTabs-module--selected-item--YPVr3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"bxTextTruncateEnd\":\"PageHeader-module--bx--text-truncate--end--mZWeX\",\"bxTextTruncateFront\":\"PageHeader-module--bx--text-truncate--front--3zvrI\",\"pageHeader\":\"PageHeader-module--page-header--3hIan\",\"withTabs\":\"PageHeader-module--with-tabs--3nKxA\",\"text\":\"PageHeader-module--text--o9LFq\"};"],"sourceRoot":""}